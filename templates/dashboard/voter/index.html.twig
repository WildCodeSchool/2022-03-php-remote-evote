{% extends '/dashboard/base.html.twig' %}


{% block body %}
<section class="voters_list">
<h1>Votants déjà enregistrés sur la campagne :&ensp; {{ campaign.name }}</h1>
  {% for voter in campaign.voters %}

          <ul>
              <div class="list">
                  <div class="details">
                      <li>{{ voter.fullname }} <br> {{ voter.email }} | {{ voter.numberOfVote }} voix</li>
                  </div>
                  <div class="button">
                      <a class="btn btn-outline-primary my-5" href="{{ path('campaign_voter_edit', {'voter_uuid': voter.uuid, 'campaign_uuid': campaign.uuid}) }}">Modifier</a>
                      <form method="post" action="{{ path('campaign_voter_delete', {'voter_uuid': voter.uuid, 'campaign_uuid': campaign.uuid}) }}" onsubmit="return confirm('Ce votant ne sera plus rattaché à cette campagne');">
                          <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ voter.uuid) }}">
                          <button class="btn btn-outline-danger my-5">Supprimer</button>
                      </form>
                  </div>
              </div>
          </ul>
        {% endfor %}
      </tbody>
  </table>
      <div class="d-grid gap-2 d-md-block col-6 mx-auto justify-content-md-center">
        <a class="btn btn-primary my-5" href="{{ path('campaign_voter_new', {'uuid': campaign.uuid}) }}">
          Ajouter un votant
                  
        </a>
        <a class="btn btn-primary btn" href="#">
          Ajouter des votants en masse
                  
        </a>
      </div>
      <div class="d-grid gap-2 d-md-block col-4 mx-auto justify-content-md-center">
        <a class="btn btn-primary my-5" href="{{ path('campaign_edit', {'uuid': campaign.uuid}) }}">
          Retour à la page d'admin
                  
        </a>
      </div>
    </div>
  {% endblock %}
  